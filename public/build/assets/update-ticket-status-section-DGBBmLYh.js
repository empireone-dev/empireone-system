import{r as p,u as f,j as t,s as S}from"./app-BYoivGJ5.js";import{B as r}from"./button-BoP5P8lj.js";import{M as h}from"./modal-BHR4Gbz8.js";import{S as x}from"./select-h01s8gMi.js";import{u as g,S as k}from"./swal-D7lKa5Fh.js";import{t as b}from"./search-lib-CUdHKsvq.js";import{d as _,g as j}from"./ticket-thunk-AgvTQFy2.js";import"./transition-BQmNC8N0.js";import"./sweetalert2.esm.all-EtYCW2yB.js";function O(){var i;const[o,e]=p.useState(!1),{ticket:l}=f(a=>a.tickets),{register:n,handleSubmit:c,control:y,formState:{errors:s,isSubmitting:u},reset:m}=g({defaultValues:{}});async function d(a){try{await _({...l,status:a.status}),await S.dispatch(j(b())),await k({type:"success"}),m(),e(!1)}catch{}}return t.jsxs(t.Fragment,{children:[t.jsx(r,{onClick:()=>e(!0),variant:"primary",children:"Update Ticket Status"}),t.jsx(h,{isOpen:o,width:"max-w-xl",onClose:()=>e(!1),title:"Change Ticket Status",children:t.jsxs("form",{className:"flex flex-col gap-3",onSubmit:c(d),children:[t.jsx(x,{label:"Change Status",name:"status",options:[{label:"Closed",value:"Closed"},{label:"Declined",value:"Declined"}],error:(i=s==null?void 0:s.status)==null?void 0:i.message,register:n("status",{required:"This field is required"})}),t.jsx(r,{type:"submit",variant:"primary",loading:u,children:"Submit"})]})})]})}export{O as default};
