import{r as u,u as f,j as t,s as g}from"./app-B8tazegd.js";import{B as i}from"./button-DmL6XmhF.js";import{M as x}from"./modal-CVdGhq8C.js";import{S}from"./select-pYjIx7_T.js";import{u as h,S as k}from"./swal-B1ldIWsM.js";import{d as _}from"./department-lib-Dxo2t-cc.js";import{t as j}from"./search-lib-CUdHKsvq.js";import{b,g as w}from"./ticket-thunk-BJ0TdALX.js";import"./transition-RbTd0hS2.js";import"./sweetalert2.esm.all-EtYCW2yB.js";function O(){var a;const[n,e]=u.useState(!1),{ticket:o}=f(r=>r.tickets),{register:m,handleSubmit:c,control:y,formState:{errors:s,isSubmitting:l},reset:p}=h({defaultValues:{}});async function d(r){try{await b({...o,department:r.department}),await g.dispatch(w(j())),await k({type:"success"}),p(),e(!1)}catch{}}return t.jsxs(t.Fragment,{children:[t.jsx(i,{onClick:()=>e(!0),variant:"danger",children:"Transfer Ticket"}),t.jsx(x,{isOpen:n,width:"max-w-xl",onClose:()=>e(!1),title:"Assign Ticket",children:t.jsxs("form",{className:"flex flex-col gap-3",onSubmit:c(d),children:[t.jsx(S,{label:"Department",name:"department",options:_,error:(a=s==null?void 0:s.department)==null?void 0:a.message,register:m("department",{required:"This field is required"})}),t.jsx(i,{type:"submit",variant:"primary",loading:l,children:"REASSIGN"})]})})]})}export{O as default};
