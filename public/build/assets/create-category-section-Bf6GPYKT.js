import{r as w,u as y,j as e,s as S}from"./app-CniJst2j.js";import{u as b}from"./index.esm-GjFEd9Kv.js";import{D as C}from"./index-B5bq4xF3.js";import{B as c}from"./button-C92rbxSi.js";import{M as D}from"./modal-CieX7kMr.js";import{I as l}from"./input-ZoL4L0Gg.js";import"./react-draft-wysiwyg-OAIVBFUh.js";import"./moment-G82_0lEo.js";import"./search-lib-CU0dLCsd.js";import{S as p}from"./swal-DprVS7Fq.js";import{c as P,g as _}from"./categories-thunk-DqxDP5pl.js";import{U as k}from"./index-BYKfPile.js";import"./index-CAOgNKgv.js";import"./index-DlOWgW21.js";import"./index-BzNKjbGi.js";import"./index-tklsl-8h.js";import"./transition-a2NUuP1w.js";import"./sweetalert2.esm.all-EtYCW2yB.js";import"./index-DlVpIuwW.js";import"./zoom-5u4x_TNq.js";import"./colors-u2YAY5vZ.js";import"./EyeOutlined-B-LEeCl8.js";const{Dragger:Y}=k,{RangePicker:Z}=C;function ee(){var m;const[d,r]=w.useState(!1),{sites:u}=y(s=>s.sites),t=new URLSearchParams(window.location.search).get("department")??"",{register:f,handleSubmit:g,control:v,formState:{errors:a,isSubmitting:i},reset:x}=b({defaultValues:{department:t}});async function h(s){const n=new FormData;Object.entries(s).forEach(([o,j])=>{n.append(o,j??"")});try{await P(n),await S.dispatch(_({department:t})),await p({type:"success"}),x(),r(!1)}catch(o){await p({type:"error",title:o.response.data.message})}}return console.log("sites",u),e.jsxs(e.Fragment,{children:[e.jsx(c,{onClick:()=>r(!0),children:"Create Account"}),e.jsx(D,{width:"max-w-lg",isOpen:d,onClose:r,title:`Create ${t} Account`,children:e.jsxs("form",{onSubmit:g(h),className:"flex flex-col gap-4",children:[e.jsx("div",{className:"flex gap-4",children:e.jsxs("div",{className:"flex-1 flex flex-col gap-4",children:[e.jsx(l,{label:"Department",type:"text",name:"station",disabled:!0,value:t}),e.jsx(l,{label:"Category Name",type:"text",name:"name",error:(m=a==null?void 0:a.name)==null?void 0:m.message,register:f("name",{required:"This field is required"})})]})}),e.jsx(c,{type:"submit",loading:i,disabled:i,children:"SUBMIT"})]})})]})}export{ee as default};
