import{j as e,b as S}from"./app-BxSEMLLR.js";import{B as _}from"./button-D1jqH-_w.js";import{S as p}from"./select-BPDy1ZiK.js";import{d as b}from"./department-lib-CBKGVWYC.js";import{d as r,D as v}from"./index-Bf7Mnhzd.js";import{u as w,C}from"./index.esm-BLQ0v1rF.js";import"./index-BXmKmo37.js";import"./index-yy2BzkFs.js";import"./index-BTzlQuek.js";const{RangePicker:D}=v;function E(){var i,d;const s=new URLSearchParams(window.location.search),n=s.get("start_date"),o=s.get("end_date"),f=n&&o?[r(n),r(o)]:null,{register:l,handleSubmit:x,control:h,formState:{errors:a,isSubmitting:m}}=w({defaultValues:{location:s.get("location")||"",department:s.get("department")||"",date_range:f}});function j(t){const[c,u]=t.date_range||[],g={...t,start_date:c?r(c).format("YYYY-MM-DD HH:mm:ss"):"",end_date:u?r(u).format("YYYY-MM-DD HH:mm:ss"):""};delete g.date_range,S.visit("/administrator/ticketing/slug/stats",{method:"get",data:g,preserveState:!0})}return e.jsxs("form",{onSubmit:x(j),className:"flex gap-3 items-center w-full py-3",children:[e.jsx("div",{className:"w-full",children:e.jsx(p,{label:"Location",name:"location",options:[{label:"San Carlos",value:"San Carlos"},{label:"Carcar",value:"Carcar"}],error:(i=a==null?void 0:a.location)==null?void 0:i.message,register:l("location")})}),e.jsx("div",{className:"w-full",children:e.jsx(p,{label:"Department",name:"department",options:b,error:(d=a==null?void 0:a.department)==null?void 0:d.message,register:l("department")})}),e.jsxs("div",{className:"w-full",children:[e.jsx(C,{control:h,name:"date_range",render:({field:t})=>e.jsx(D,{size:"large",className:"w-full border py-2.5 border-gray-900",onChange:t.onChange,value:t.value})}),a.date_range&&e.jsx("p",{className:"text-red-600 text-sm mt-1",children:a.date_range.message})]}),e.jsx("div",{className:"w-full",children:e.jsx(_,{className:"w-full",type:"submit",loading:m,disabled:m,children:"SEARCH"})})]})}export{E as default};
