import{r as f,u,j as t,s as g}from"./app-BKkfpOz9.js";import{B as i}from"./button-CtuboSsF.js";import{M as x}from"./modal-CRj_kApu.js";import{S}from"./select-DbkvkWHN.js";import{S as h}from"./swal-kV_2tSUA.js";import{d as k}from"./department-lib-CBKGVWYC.js";import{t as _}from"./search-lib-CUdHKsvq.js";import{d as j,g as b}from"./ticket-thunk-ssV2JC2j.js";import{u as w}from"./index.esm-BXzBeIHw.js";import"./index-BSNn6CB7.js";import"./transition-ChSOng0s.js";import"./sweetalert2.esm.all-EtYCW2yB.js";function G(){var a;const[o,e]=f.useState(!1),{ticket:n}=u(s=>s.tickets),{register:m,handleSubmit:c,control:y,formState:{errors:r,isSubmitting:p},reset:l}=w({defaultValues:{}});async function d(s){try{await j({...n,department:s.department}),await g.dispatch(b(_())),await h({type:"success"}),l(),e(!1)}catch{}}return t.jsxs(t.Fragment,{children:[t.jsx(i,{onClick:()=>e(!0),variant:"danger",children:"Transfer Ticket"}),t.jsx(x,{isOpen:o,width:"max-w-xl",onClose:()=>e(!1),title:"Assign Ticket",children:t.jsxs("form",{className:"flex flex-col gap-3",onSubmit:c(d),children:[t.jsx(S,{label:"Department",name:"department",options:k,error:(a=r==null?void 0:r.department)==null?void 0:a.message,register:m("department",{required:"This field is required"})}),t.jsx(i,{type:"submit",variant:"primary",loading:p,children:"REASSIGN"})]})})]})}export{G as default};
