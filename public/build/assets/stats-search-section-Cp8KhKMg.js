import{j as e,b as S}from"./app-C11SRzzF.js";import{B as _}from"./button-DxsrpKon.js";import{S as g}from"./select-Dvx1IIjX.js";import{d as b}from"./department-lib-CBKGVWYC.js";import{d as s}from"./dayjs.min-TmqVXa-R.js";import{u as v,C as w}from"./index.esm-BR5-hCoq.js";import{D as C}from"./index-Xbu-utfi.js";import"./index-Bn47VSBn.js";import"./index-BVkP2cHd.js";import"./roundedArrow-OcSXYK2T.js";import"./index-lECfjvoJ.js";const{RangePicker:D}=C;function z(){var i,d;const r=new URLSearchParams(window.location.search),n=r.get("start_date"),o=r.get("end_date"),f=n&&o?[s(n),s(o)]:null,{register:l,handleSubmit:x,control:h,formState:{errors:a,isSubmitting:m}}=v({defaultValues:{location:r.get("location")||"",department:r.get("department")||"",date_range:f}});function j(t){const[c,p]=t.date_range||[],u={...t,start_date:c?s(c).format("YYYY-MM-DD HH:mm:ss"):"",end_date:p?s(p).format("YYYY-MM-DD HH:mm:ss"):""};delete u.date_range,S.visit("/administrator/ticketing/slug/stats",{method:"get",data:u,preserveState:!0})}return e.jsxs("form",{onSubmit:x(j),className:"flex gap-3 items-center w-full py-3",children:[e.jsx("div",{className:"w-full",children:e.jsx(g,{label:"Location",name:"location",options:[{label:"San Carlos",value:"San Carlos"},{label:"Carcar",value:"Carcar"}],error:(i=a==null?void 0:a.location)==null?void 0:i.message,register:l("location")})}),e.jsx("div",{className:"w-full",children:e.jsx(g,{label:"Department",name:"department",options:b,error:(d=a==null?void 0:a.department)==null?void 0:d.message,register:l("department")})}),e.jsxs("div",{className:"w-full",children:[e.jsx(w,{control:h,name:"date_range",render:({field:t})=>e.jsx(D,{size:"large",className:"w-full border py-2.5 border-gray-900",onChange:t.onChange,value:t.value})}),a.date_range&&e.jsx("p",{className:"text-red-600 text-sm mt-1",children:a.date_range.message})]}),e.jsx("div",{className:"w-full",children:e.jsx(_,{className:"w-full",type:"submit",loading:m,disabled:m,children:"SEARCH"})})]})}export{z as default};
