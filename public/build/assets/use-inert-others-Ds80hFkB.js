import{r as l,R as E}from"./app-1dCR_Kbz.js";import{K as $,o as C,y,n as b,L as M,I as A,j as D,b as S}from"./portal-DrF86bRE.js";let j=l.createContext(void 0);function P(){return l.useContext(j)}let m=l.createContext(null);m.displayName="DescriptionContext";function x(){let e=l.useContext(m);if(e===null){let r=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(r,x),r}return e}function H(){let[e,r]=l.useState([]);return[e.length>0?e.join(" "):void 0,l.useMemo(()=>function(t){let i=C(u=>(r(n=>[...n,u]),()=>r(n=>{let s=n.slice(),o=s.indexOf(u);return o!==-1&&s.splice(o,1),s}))),a=l.useMemo(()=>({register:i,slot:t.slot,name:t.name,props:t.props,value:t.value}),[i,t.slot,t.name,t.props,t.value]);return E.createElement(m.Provider,{value:a},t.children)},[r])]}let T="p";function k(e,r){let t=l.useId(),i=P(),{id:a=`headlessui-description-${t}`,...u}=e,n=x(),s=y(r);b(()=>n.register(a),[a,n.register]);let o=i||!1,p=l.useMemo(()=>({...n.slot,disabled:o}),[n.slot,o]),d={ref:s,...n.props,id:a};return M()({ourProps:d,theirProps:u,slot:p,defaultTag:T,name:n.name||"Description"})}let I=$(k),K=Object.assign(I,{}),f=new Map,c=new Map;function v(e){var r;let t=(r=c.get(e))!=null?r:0;return c.set(e,t+1),t!==0?()=>g(e):(f.set(e,{"aria-hidden":e.getAttribute("aria-hidden"),inert:e.inert}),e.setAttribute("aria-hidden","true"),e.inert=!0,()=>g(e))}function g(e){var r;let t=(r=c.get(e))!=null?r:1;if(t===1?c.delete(e):c.set(e,t-1),t!==1)return;let i=f.get(e);i&&(i["aria-hidden"]===null?e.removeAttribute("aria-hidden"):e.setAttribute("aria-hidden",i["aria-hidden"]),e.inert=i.inert,f.delete(e))}function L(e,{allowed:r,disallowed:t}={}){let i=A(e,"inert-others");b(()=>{var a,u;if(!i)return;let n=D();for(let o of(a=t==null?void 0:t())!=null?a:[])o&&n.add(v(o));let s=(u=r==null?void 0:r())!=null?u:[];for(let o of s){if(!o)continue;let p=S(o);if(!p)continue;let d=o.parentElement;for(;d&&d!==p.body;){for(let h of d.children)s.some(w=>h.contains(w))||n.add(v(h));d=d.parentElement}}return n.dispose},[i,r,t])}export{K as H,P as a,H as w,L as y};
