import{r as q,u as f,j as e,s as w}from"./app-C3s8st1b.js";import{u as _}from"./index.esm-4mnpPue6.js";import{D as v}from"./index-B3WBdtVN.js";import{B as x}from"./button-rP9JlgwF.js";import{M as D}from"./modal-Dw6HqqxW.js";import{S as T}from"./select-t1UEVq9T.js";import{I as i}from"./input-DAoQd9LZ.js";import"./react-draft-wysiwyg-CIODAIG0.js";import"./moment-G82_0lEo.js";import{d as o}from"./search-lib-CU0dLCsd.js";import{c as k,b as E}from"./account-thunk-C5feZ7Mt.js";import{S as g}from"./swal-E5NWN_Wn.js";import{U as F}from"./index-BgPqm5wh.js";import"./index-CkmWfsbA.js";import"./index-yw7ovyNf.js";import"./index-DNj7-gnP.js";import"./index-DDYCoOhV.js";import"./transition-D4kA6QSk.js";import"./sweetalert2.esm.all-EtYCW2yB.js";import"./index-DCYvsFdY.js";import"./zoom-Q7zwM302.js";import"./colors-B9QpzJvg.js";import"./EyeOutlined-B_GQqUkb.js";const{Dragger:re}=F,{RangePicker:se}=v;function ie(){var n,c,p,d;const[b,l]=q.useState(!1),{categories:U}=f(a=>a.categories),{sites:h}=f(a=>a.sites),{register:r,handleSubmit:j,control:A,formState:{errors:t,isSubmitting:m},reset:S}=_({defaultValues:{department:o()}});async function y(a){const u=new FormData;Object.entries(a).forEach(([s,C])=>{u.append(s,C??"")});try{const s=await k(u);await w.dispatch(E({department:o()})),await g({type:"success"}),S(),l(!1)}catch(s){await g({type:"error",title:s.response.data.message})}}return console.log("sites",h),e.jsxs(e.Fragment,{children:[e.jsx(x,{onClick:()=>l(!0),children:"Create Account"}),e.jsx(D,{width:"max-w-lg",isOpen:b,onClose:l,title:`Create ${o()} Account`,children:e.jsxs("form",{onSubmit:j(y),className:"flex flex-col gap-4",children:[e.jsx("div",{className:"flex gap-4",children:e.jsxs("div",{className:"flex-1 flex flex-col gap-4",children:[e.jsx(i,{label:"Department",type:"text",name:"station",disabled:!0,value:o()}),e.jsx(T,{label:"Location",name:"location",options:[{label:"San Carlos",value:"San Carlos"},{label:"Carcar",value:"Carcar"}],error:(n=t==null?void 0:t.location)==null?void 0:n.message,register:r("location",{required:"This field is required"})}),e.jsx(i,{label:"Fullname",type:"text",name:"name",error:(c=t==null?void 0:t.name)==null?void 0:c.message,register:r("name",{required:"This field is required"})}),e.jsx(i,{label:"Email",type:"email",name:"email",error:(p=t==null?void 0:t.email)==null?void 0:p.message,register:r("email",{required:"This field is required"})}),e.jsx(i,{label:"Position",type:"text",name:"position",error:(d=t==null?void 0:t.position)==null?void 0:d.message,register:r("position",{required:"This field is required"})})]})}),e.jsx(x,{type:"submit",loading:m,disabled:m,children:"SUBMIT"})]})})]})}export{ie as default};
