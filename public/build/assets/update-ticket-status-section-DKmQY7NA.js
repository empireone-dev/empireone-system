import{r as f,u as x,j as t,s as S}from"./app--vk24Lng.js";import{B as n}from"./button-BMti5gqy.js";import{M as g}from"./modal-CDeH2yaZ.js";import{S as h}from"./select-DrYZSiBd.js";import{u as k,S as b}from"./swal-hW6AO9k0.js";import{T as j}from"./textarea-CDpzI4CR.js";import{t as _}from"./search-lib-CUdHKsvq.js";import{d as y,g as T}from"./ticket-thunk-BH8dWf_4.js";import"./transition-Ba6cO0Kw.js";import"./sweetalert2.esm.all-EtYCW2yB.js";function U(){var r,o;const[l,a]=f.useState(!1),{ticket:c}=x(s=>s.tickets),{register:i,handleSubmit:u,control:w,formState:{errors:e,isSubmitting:m},reset:d}=k({defaultValues:{}});async function p(s){try{await y({...c,status:s.status,notes:s.notes}),await S.dispatch(T(_())),await b({type:"success"}),d(),a(!1)}catch{}}return t.jsxs(t.Fragment,{children:[t.jsx(n,{onClick:()=>a(!0),variant:"primary",children:"Update Ticket Status"}),t.jsx(g,{isOpen:l,width:"max-w-xl",onClose:()=>a(!1),title:"Change Ticket Status",children:t.jsxs("form",{className:"flex flex-col gap-3",onSubmit:u(p),children:[t.jsx(h,{label:"Change Status",name:"status",options:[{label:"Closed",value:"Closed"},{label:"Declined",value:"Declined"}],error:(r=e==null?void 0:e.status)==null?void 0:r.message,register:i("status",{required:"This field is required"})}),t.jsx(j,{register:i("notes",{required:"This field is required"}),error:(o=e==null?void 0:e.notes)==null?void 0:o.message,name:"notes",label:"Notes"}),t.jsx(n,{type:"submit",variant:"primary",loading:m,children:"Submit"})]})})]})}export{U as default};
