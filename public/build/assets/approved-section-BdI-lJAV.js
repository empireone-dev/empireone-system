import{r as x,j as t,s as _}from"./app-DSSCZLOZ.js";import{B as q}from"./button-CMLiOaTX.js";import{I as m}from"./input-CUt1CYpC.js";import{M as S}from"./modal-oRFg88TC.js";import{S as w}from"./select-CixvwcE5.js";import{S as C}from"./swal-CqvTpdAy.js";import{I as v,a as A}from"./accounting-category-BYUs4YaS.js";import{r as k,g as D}from"./accounting-thunk-Cr4nceql.js";import{d as n,D as N}from"./index-DwDNUjsL.js";import{u as P,C as E}from"./index.esm-CyjJ5gPs.js";import{s as I}from"./index-CZNp3OKf.js";import"./index-DL_XxNLD.js";import"./transition-DVSUYjKe.js";import"./sweetalert2.esm.all-EtYCW2yB.js";import"./EyeOutlined-DwJvok_U.js";import"./index-DzCzoJ-v.js";import"./index-BMZ9Erx8.js";import"./index-Dq6Am3SF.js";import"./addEventListener-CrgE2h1t.js";import"./zoom-s-I5YINa.js";function ee({data:r}){var l,c,d,g;const[p,o]=x.useState(!1),{register:s,handleSubmit:b,control:h,formState:{errors:e,isSubmitting:u},reset:j,setValue:i}=P({defaultValues:{description:"",receipt_number:"",amount:"",balance:"",files:[],date:n()}});x.useEffect(()=>{i("receipt_number",r.receipt_number),i("description",r.description),i("date",n(r.date)),i("amount",r.amount)},[p]);async function y(a){await k({...a,id:r.id,status:"Approved"}),await _.dispatch(D({status:"Pending"})),await C({type:"success"}),j(),o(!1)}return t.jsxs("div",{children:[t.jsx("button",{onClick:()=>o(!0),children:t.jsx(I,{className:"h-6 w-6 border-2 border-green-600"})}),t.jsx(S,{width:"max-w-lg",title:"Approve Request",isOpen:p,onClose:o,children:t.jsxs("form",{onSubmit:b(y),className:"flex flex-col gap-4",children:[t.jsx(v,{width:"100%",height:150,src:r.files}),t.jsx(E,{control:h,name:"date",rules:{required:"Please select a date"},render:({field:a})=>t.jsx(N,{size:"large",className:"w-full border py-2.5 border-gray-900",onChange:a.onChange,value:a.value,disabledDate:f=>f&&f<n().startOf("day")})}),(e==null?void 0:e.date)&&t.jsx("p",{className:"text-sm text-red-600 mt-1",children:e.date.message}),t.jsx(m,{label:"Description",type:"text",name:"description",error:(l=e==null?void 0:e.description)==null?void 0:l.message,register:s("description",{required:"This field is required"})}),t.jsx(m,{label:"Receipt Number",type:"text",name:"receipt_number",error:(c=e==null?void 0:e.receipt_number)==null?void 0:c.message,register:s("receipt_number",{required:"This field is required"})}),t.jsx(m,{label:"Amount",type:"number",name:"amount",error:(d=e==null?void 0:e.amount)==null?void 0:d.message,register:s("amount",{required:"This field is required"})}),t.jsx(w,{label:"Category",name:"category",options:A,error:(g=e==null?void 0:e.category)==null?void 0:g.message,register:s("category",{required:"This field is required"})}),t.jsx(q,{type:"submit",loading:u,disabled:u,children:"APPROVED"})]})})]})}export{ee as default};
