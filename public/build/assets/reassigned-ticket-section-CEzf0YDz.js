import{r as f,u,j as t,s as g}from"./app-BxSEMLLR.js";import{B as i}from"./button-D1jqH-_w.js";import{M as x}from"./modal-CPliCZoG.js";import{S}from"./select-BPDy1ZiK.js";import{S as h}from"./swal-BZmAPeGe.js";import{d as k}from"./department-lib-CBKGVWYC.js";import{t as _}from"./search-lib-BXVR6Pti.js";import{e as j,g as b}from"./ticket-thunk-Dk_rCqR8.js";import{u as w}from"./index.esm-BLQ0v1rF.js";import"./index-BXmKmo37.js";import"./transition-DljgAkTQ.js";import"./sweetalert2.esm.all-EtYCW2yB.js";function G(){var a;const[o,e]=f.useState(!1),{ticket:n}=u(s=>s.tickets),{register:m,handleSubmit:c,control:y,formState:{errors:r,isSubmitting:p},reset:l}=w({defaultValues:{}});async function d(s){try{await j({...n,department:s.department}),await g.dispatch(b(_())),await h({type:"success"}),l(),e(!1)}catch{}}return t.jsxs(t.Fragment,{children:[t.jsx(i,{onClick:()=>e(!0),variant:"danger",children:"Transfer Ticket"}),t.jsx(x,{isOpen:o,width:"max-w-xl",onClose:()=>e(!1),title:"Assign Ticket",children:t.jsxs("form",{className:"flex flex-col gap-3",onSubmit:c(d),children:[t.jsx(S,{label:"Department",name:"department",options:k,error:(a=r==null?void 0:r.department)==null?void 0:a.message,register:m("department",{required:"This field is required"})}),t.jsx(i,{type:"submit",variant:"primary",loading:p,children:"REASSIGN"})]})})]})}export{G as default};
