import{r as x,j as t,s as _}from"./app-DzHQYGqW.js";import{B as q}from"./button-9647Amo6.js";import{I as n}from"./input-Dtjemc_G.js";import{M as w}from"./modal-DKa6ahTy.js";import{S}from"./select-Lcw4zzuR.js";import{S as C}from"./swal-BXCo3BPs.js";import{I as D,a as N}from"./accounting-category-CtJZVE-1.js";import{r as v,g as E}from"./accounting-thunk-BNwSgQph.js";import{d as m,D as I}from"./index-D6mG6VnS.js";import{u as T,C as k}from"./index.esm-ZoWVrAt7.js";import{F}from"./index-Bf4k7vFW.js";import"./index-DTkmr0Bf.js";import"./transition-DBV0_3LV.js";import"./sweetalert2.esm.all-EtYCW2yB.js";import"./EyeOutlined-DXfXbT8v.js";import"./index-BqmZQ817.js";import"./index-Dsyer-8f.js";import"./index-YyO4l-xR.js";import"./addEventListener-DLs2KhwE.js";import"./zoom-BzZSFq9B.js";function ee({data:s}){var u,d,p,g;const[l,o]=x.useState(!1),{register:i,handleSubmit:b,control:h,formState:{errors:e,isSubmitting:c},reset:j,setValue:r}=T({defaultValues:{description:"",receipt_number:"",amount:"",balance:"",files:[],date:m()}});x.useEffect(()=>{r("receipt_number",s.receipt_number),r("description",s.description),r("date",m(s.date)),r("amount",s.amount)},[l]);async function y(a){await v({...a,id:s.id,status:"Declined"}),await _.dispatch(E({status:"Pending"})),await C({type:"success"}),j(),o(!1)}return t.jsxs("div",{children:[t.jsx("button",{onClick:()=>o(!0),children:t.jsx(F,{className:"h-8 w-8"})}),t.jsx(w,{width:"max-w-lg",title:"Decline Request",isOpen:l,onClose:o,children:t.jsxs("form",{onSubmit:b(y),className:"flex flex-col gap-4",children:[t.jsx(D,{width:"100%",height:150,src:s.files}),t.jsx(k,{control:h,name:"date",rules:{required:"Please select a date"},render:({field:a})=>t.jsx(I,{size:"large",className:"w-full border py-2.5 border-gray-900",onChange:a.onChange,value:a.value,disabledDate:f=>f&&f<m().startOf("day")})}),(e==null?void 0:e.date)&&t.jsx("p",{className:"text-sm text-red-600 mt-1",children:e.date.message}),t.jsx(n,{label:"Description",type:"text",name:"description",error:(u=e==null?void 0:e.description)==null?void 0:u.message,register:i("description",{required:"This field is required"})}),t.jsx(n,{label:"Receipt Number",type:"text",name:"receipt_number",error:(d=e==null?void 0:e.receipt_number)==null?void 0:d.message,register:i("receipt_number",{required:"This field is required"})}),t.jsx(n,{label:"Amount",type:"number",name:"amount",error:(p=e==null?void 0:e.amount)==null?void 0:p.message,register:i("amount",{required:"This field is required"})}),t.jsx(S,{label:"Category",name:"category",options:N,error:(g=e==null?void 0:e.category)==null?void 0:g.message,register:i("category",{required:"This field is required"})}),t.jsx(q,{type:"submit",className:"bg-red-600 text-white hover:bg-red-700",loading:c,disabled:c,children:"DECLINED"})]})})]})}export{ee as default};
