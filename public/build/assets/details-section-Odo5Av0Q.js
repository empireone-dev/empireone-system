import{r as d,u as c,j as e,W as p}from"./app-D2WluLkz.js";import{T as g}from"./title-BkVPaoPg.js";import{H as h}from"./html-OQOsIjpx.js";import y from"./logs-section-soX0MJMU.js";import j from"./add-comment-section-C7UZGw-T.js";import{d as b}from"./search-lib-CUdHKsvq.js";import{k as f}from"./index-BkTV9JQ_.js";import u from"./close-ticket-section-D1XWcWsn.js";import"./moment-G82_0lEo.js";import"./textarea-XnH8DqeK.js";import"./button-cCI2EL5Y.js";import"./index-E74QT0NN.js";import"./index.esm-vt4Ympsh.js";import"./swal-Cn16WiIE.js";import"./sweetalert2.esm.all-EtYCW2yB.js";import"./ticket-thunk-BEbyZPSd.js";import"./notes-service-ZHfrePeB.js";import"./reassigned-ticket-section-DYqct9yC.js";import"./modal-B33T8VHk.js";import"./transition-Wv5kO3o5.js";import"./select-CSq5ZbYz.js";import"./department-lib-CBKGVWYC.js";import"./update-ticket-status-section-D7zpz0wZ.js";function K(){var r,t,m,n,x,i;const a=d.useRef(null),{ticket:s}=c(l=>l.tickets),o=new URLSearchParams(window.location.search).get("page")??"";return d.useEffect(()=>{const l=a.current;l&&(l.scrollTop=l.scrollHeight)},[(r=s==null?void 0:s.notes)==null?void 0:r.length]),e.jsx(e.Fragment,{children:e.jsxs("div",{className:"px-6 w-full",children:[e.jsxs("div",{className:"w-full items-center  flex-col sm:flex-row  justify-between flex gap-10",children:[e.jsxs(p,{href:`/users/ticketing/${b().replace(" ","_")}?page=${o}`,className:" flex gap-3 text-2xl font-semibold text-gray-900 my-3",children:[e.jsx(f,{})," Back"]}),e.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-5",children:[e.jsx("div",{children:(s==null?void 0:s.status)=="Pending"&&e.jsx(u,{})}),e.jsx(g,{label:`Details - ${s.ticket_id}`})]})]}),e.jsxs("div",{className:"mx-auto grid max-w-2xl grid-cols-1 grid-rows-1 items-start gap-x-8 lg:mx-0 lg:max-w-none lg:grid-cols-3",children:[e.jsx("div",{className:"-mx-4 px-4 py-8 h-[78vh]  overflow-auto thin-scrollbar shadow-xs ring-1 ring-gray-900/5 sm:mx-0 sm:rounded-lg sm:px-8 sm:pb-14 lg:col-span-2 lg:row-span-2 lg:row-end-2 xl:px-16 xl:pt-8 xl:pb-20",children:e.jsxs("table",{class:"w-full text-sm text-left rtl:text-right text-gray-500 ",children:[e.jsx("thead",{class:"text-xs text-gray-700 uppercase bg-gray-50 ",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",className:"px-0 py-3 font-semibold",children:"Ticket ID:"}),e.jsx("th",{scope:"col",className:" py-3 pr-0 pl-8 text-left font-semibold sm:table-cell",children:s==null?void 0:s.ticket_id})]})}),e.jsxs("tbody",{children:[e.jsxs("tr",{className:"border-b border-gray-100",children:[e.jsx("td",{className:"max-w-0 px-0 py-5 align-top",children:e.jsx("div",{className:" font-medium text-gray-900",children:"Filed by:"})}),e.jsx("td",{className:" py-5 pr-0 pl-8 text-left align-top text-gray-700 tabular-nums sm:table-cell",children:(t=s==null?void 0:s.user)==null?void 0:t.name})]}),e.jsxs("tr",{className:"border-b border-gray-100",children:[e.jsx("td",{className:"max-w-0 px-0 py-5 align-top",children:e.jsx("div",{className:" font-medium text-gray-900",children:"Site:"})}),e.jsx("td",{className:" py-5 pr-0 pl-8 text-left align-top text-gray-700 tabular-nums sm:table-cell",children:((m=s==null?void 0:s.site)==null?void 0:m.name)??"N/A"})]}),e.jsxs("tr",{className:"border-b border-gray-100",children:[e.jsx("td",{className:"max-w-0 px-0 py-5 align-top",children:e.jsx("div",{className:" font-medium text-gray-900",children:"Assigned To:"})}),e.jsx("td",{className:" py-5 pr-0 pl-8 text-left align-top text-gray-700 tabular-nums sm:table-cell",children:((n=s==null?void 0:s.assigned_to)==null?void 0:n.name)??"N/A"})]}),e.jsxs("tr",{className:"border-b border-gray-100",children:[e.jsx("td",{className:"max-w-0 px-0 py-5 align-top",children:e.jsx("div",{className:" font-medium text-gray-900",children:"Categories"})}),e.jsx("td",{className:" py-5 pr-0 pl-8 text-left align-top text-gray-700 tabular-nums sm:table-cell",children:((x=s==null?void 0:s.category)==null?void 0:x.name)??"N/A"})]}),e.jsxs("tr",{className:"border-b border-gray-100",children:[e.jsx("td",{className:"max-w-0 px-0 py-5 align-top",children:e.jsx("div",{className:" font-medium text-gray-900",children:"Department Request"})}),e.jsx("td",{className:" py-5 pr-0 pl-8 text-left align-top text-gray-700 tabular-nums sm:table-cell",children:((i=s==null?void 0:s.category)==null?void 0:i.department)??"N/A"})]}),e.jsxs("tr",{className:"border-b border-gray-100",children:[e.jsx("td",{className:"max-w-0 px-0 py-5 align-top",children:e.jsx("div",{className:" font-medium text-gray-900",children:"Department Assigned"})}),e.jsx("td",{className:" py-5 pr-0 pl-8 text-left align-top text-gray-700 tabular-nums sm:table-cell",children:(s==null?void 0:s.department)??"N/A"})]}),e.jsxs("tr",{className:"border-b border-gray-100",children:[e.jsx("td",{className:"max-w-0 px-0 py-5 align-top",children:e.jsx("div",{className:" font-medium text-gray-900",children:"Status"})}),e.jsx("td",{className:" py-5 pr-0 pl-8 text-left align-top text-gray-700 tabular-nums sm:table-cell",children:(s==null?void 0:s.status)??"N/A"})]}),e.jsxs("tr",{className:"border-b border-gray-100",children:[e.jsx("td",{className:"max-w-0 px-0 py-5 align-top",children:e.jsx("div",{className:" font-medium text-gray-900",children:"Urgent Type"})}),e.jsx("td",{className:" py-5 pr-0 pl-8 text-left align-top text-gray-700 tabular-nums sm:table-cell",children:(s==null?void 0:s.isUrgent)??"N/A"})]}),e.jsxs("tr",{className:"border-b border-gray-100",children:[e.jsx("td",{className:"max-w-0 px-0 py-5 align-top",children:e.jsx("div",{className:" font-medium text-gray-900",children:"Details"})}),e.jsx("td",{className:" py-5 pr-0 pl-8 text-left align-top text-gray-700 tabular-nums sm:table-cell",children:e.jsx(h,{html:(s==null?void 0:s.details)??"<>N/A</>"})})]})]})]})}),e.jsx("div",{ref:a,className:"h-[64vh]  px-3 thin-scrollbar overflow-auto flex flex-col gap-5",children:e.jsx(y,{})}),e.jsx(j,{})]})]})})}export{K as default};
